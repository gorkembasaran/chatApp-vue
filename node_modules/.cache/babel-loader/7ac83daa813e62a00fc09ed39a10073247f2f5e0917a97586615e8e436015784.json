{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport Pusher from 'pusher-js';\nexport default {\n  name: 'App',\n  setup() {\n    const username = ref('');\n    const messages = ref([]);\n    const message = ref('');\n    onMounted(() => {\n      const pusher = new Pusher('f2ed774ee6015e734829', {\n        cluster: 'eu'\n      });\n      const channel = pusher.subscribe('chat');\n      channel.bind('message', data => {\n        messages.value.push(data);\n      });\n    });\n    const submit = async () => {\n      await fetch('http://localhost:8000/api/messages', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: username.value,\n          message: message.value\n        })\n      });\n      message.value = '';\n    };\n    return {\n      username,\n      messages,\n      message,\n      submit\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","Pusher","name","setup","username","messages","message","pusher","cluster","channel","subscribe","bind","data","value","push","submit","fetch","method","headers","body","JSON","stringify"],"sources":["/Users/gorkem/Desktop/chatapp/src/App.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"d-flex flex-column align-items-stretch flex-shrink-0 bg-body-tertiary\">\n      <div class=\"d-flex align-items-center flex-shrink-0 p-3 link-body-emphasis text-decoration-none border-bottom\">\n        <input class=\"fs-5 fw-semibold\" v-model=\"username\">\n      </div>\n      <div class=\"list-group list-group-flush border-bottom scrollarea\">\n        <div class=\"list-group-item list-group-item-action py-3 lh-sm\"\n          v-for=\"message in messages\" :key=\"message\"\n        >\n          <div class=\"d-flex w-100 align-items-center justify-content-between\">\n            <strong class=\"mb-1\">{{ message.username }}</strong>\n          </div>\n          <div class=\"col-10 mb-1 small\">{{ message.message }}</div>\n        </div>\n      </div>\n    </div>\n    <form @submit.prevent=\"submit\">\n      <input class=\"form-control\" placeholder=\"write a message\" v-model=\"message\">\n    </form>\n  </div>\n</template>\n\n<script>\n  import {ref, onMounted} from 'vue';\n  import Pusher from 'pusher-js'\n\n  export default {\n    name: 'App',\n    setup(){\n      const username = ref('');\n      const messages = ref([]);\n      const message = ref('')\n\n      onMounted(()=>{\n        const pusher = new Pusher('f2ed774ee6015e734829', {\n          cluster: 'eu'\n        });\n\n        const channel = pusher.subscribe('chat');\n        channel.bind('message', data => {\n          messages.value.push(data)\n        });\n\n      })\n\n\n      const submit = async () => {\n        await fetch('http://localhost:8000/api/messages', {\n          method: 'POST',\n          headers: {'Content-Type': 'application/json'},\n          body: JSON.stringify({\n            username: username.value,\n            message: message.value\n          })\n        })\n\n        message.value = '';\n      }\n\n      return {\n        username,\n        messages,\n        message,\n        submit\n      }\n    }\n    }\n</script>\n\n<style>\n  .scrollarea{\n    min-height: 500px;\n  }\n</style>\n"],"mappings":";AAwBE,SAAQA,GAAG,EAAEC,SAAS,QAAO,KAAK;AAClC,OAAOC,MAAK,MAAO,WAAU;AAE7B,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,KAAKA,CAAA,EAAE;IACL,MAAMC,QAAO,GAAIL,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMM,QAAO,GAAIN,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMO,OAAM,GAAIP,GAAG,CAAC,EAAE;IAEtBC,SAAS,CAAC,MAAI;MACZ,MAAMO,MAAK,GAAI,IAAIN,MAAM,CAAC,sBAAsB,EAAE;QAChDO,OAAO,EAAE;MACX,CAAC,CAAC;MAEF,MAAMC,OAAM,GAAIF,MAAM,CAACG,SAAS,CAAC,MAAM,CAAC;MACxCD,OAAO,CAACE,IAAI,CAAC,SAAS,EAAEC,IAAG,IAAK;QAC9BP,QAAQ,CAACQ,KAAK,CAACC,IAAI,CAACF,IAAI;MAC1B,CAAC,CAAC;IAEJ,CAAC;IAGD,MAAMG,MAAK,GAAI,MAAAA,CAAA,KAAY;MACzB,MAAMC,KAAK,CAAC,oCAAoC,EAAE;QAChDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB,CAAC;QAC7CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBjB,QAAQ,EAAEA,QAAQ,CAACS,KAAK;UACxBP,OAAO,EAAEA,OAAO,CAACO;QACnB,CAAC;MACH,CAAC;MAEDP,OAAO,CAACO,KAAI,GAAI,EAAE;IACpB;IAEA,OAAO;MACLT,QAAQ;MACRC,QAAQ;MACRC,OAAO;MACPS;IACF;EACF;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}